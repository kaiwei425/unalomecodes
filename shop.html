



<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="coupon-api" content="https://coupon-service.kaiwei425.workers.dev/">
<meta name="api-base" content="/">
<meta name="description" content="泰國佛牌與守護神商品專區，提供價格篩選、熱門排行與新品上架，適合新手到收藏者的選購入口。">
<link rel="canonical" href="https://unalomecodes.com/shop">
<title>unalomecodes | 懂玩泰國 - 商城</title>
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16.png">
<link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
<meta property="og:title" content="unalomecodes | 懂玩泰國 - 商城">
<meta property="og:description" content="泰國佛牌與守護神商品專區，提供價格篩選、熱門排行與新品上架，適合新手到收藏者的選購入口。">
<meta property="og:image" content="https://unalomecodes.com/img/logo.png">
<meta property="og:url" content="https://unalomecodes.com/shop">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://unalomecodes.com/img/logo.png">
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "泰國佛牌選購｜守護神商品與熱門排行 - unalomecodes",
    "description": "泰國佛牌與守護神商品專區，提供價格篩選、熱門排行與新品上架，適合新手到收藏者的選購入口。",
    "url": "https://unalomecodes.com/shop",
    "inLanguage": "zh-Hant",
    "isPartOf": {
      "@type": "WebSite",
      "name": "unalomecodes",
      "url": "https://unalomecodes.com/"
    },
    "publisher": {
      "@type": "Organization",
      "name": "unalomecodes",
      "logo": {
        "@type": "ImageObject",
        "url": "https://unalomecodes.com/img/logo.png"
      }
    }
  }
</script>
<link rel="stylesheet" href="/css/style.css">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="/css/shop.inline-1.css">
<link rel="stylesheet" href="/css/guardian-menu.css">
<link rel="stylesheet" href="/css/yam-ui.css">
</head>
<body>
<script src="/js/shop.inline-1.js"></script>
<div class="wrap">
  <h1 class="sr-only">泰國佛牌選購與守護神商品專區</h1>
  <div class="top">
    <div class="brand">
      <picture class="brand-logo">
        <source srcset="/img/logo.svg" type="image/svg+xml">
        <img src="/img/logo.png" alt="unalomecodes">
      </picture>
      <div>
        <div class="t1">Unalomecodes 懂玩泰國</div>
        <div class="t2">
          <span id="pageSubtitle">unalome象徵人生修行並通往覺悟的道路</span>
          <button type="button" id="btnEditSubtitle" style="display:none;border:none;background:none;cursor:pointer;font-size:13px;color:#64748b;margin-left:6px;vertical-align:middle;" title="編輯副標題">✏️</button>
          <button type="button" id="btnEditEsim" style="display:none;border:none;background:none;cursor:pointer;font-size:13px;color:#64748b;margin-left:6px;vertical-align:middle;" title="編輯 eSIM 商品卡">📶</button>
        </div>
      </div>
    </div>
    <div class="top-actions-right">
      <button type="button" id="btnLang" class="lang-btn" aria-label="Language">EN</button>
      <div class="member-menu">
        <button type="button" id="memberMenuBtn">
          <span class="member-menu-label" data-i18n="common.member_center">會員中心</span>
          <span class="member-menu-arrow" id="memberMenuArrow">▾</span>
          <span class="member-menu-badge" id="memberMenuBadge" style="display:none;">0</span>
        </button>
        <div class="member-menu-panel" id="memberMenuPanel">
          <a href="#" data-profile data-i18n="shop.profile">基本資料</a>
          <a href="/account-coupons" id="userCouponsLink" class="qna-link"><span data-i18n="shop.my_coupons">我的優惠券</span> <span class="qna-badge" id="userCouponBadge">0</span></a>
          <a href="/account-orders" id="userOrdersLink" class="qna-link"><span data-i18n="shop.my_orders">我的訂單</span> <span class="qna-badge" id="userQnaBadge">0</span></a>
          <a href="/account-store" data-i18n="shop.store_preset">門市預設</a>
          <a href="/admin/orders" id="adminQnaLink" class="qna-link" data-admin-only data-admin-perm="admin_panel_view" data-admin-href="/admin/orders" style="display:none;">訂單問答 <span class="qna-badge" id="adminQnaBadge">0</span></a>
          <a href="/admin" data-admin-only data-admin-perm="admin_panel_view" data-admin-href="/admin" style="display:none;">後台管理</a>
        </div>
      </div>
      <div class="auth-widget" data-auth-widget>
        <span class="auth-status" data-auth-status>登入狀態載入中…</span>
        <button type="button" class="auth-btn" data-auth-btn>登入會員</button>
      </div>
      <div id="guardianBadge" class="guardian-badge" style="display:none;"></div>
    </div>
  </div>

  <div class="store">
    <aside id="sideDeities">
    <div class="side-cart">
      <button id="cartFab" type="button" title="查看購物車" data-i18n-attr="title:shop.view_cart"><span class="lbl" data-i18n="shop.cart">購物車</span><span id="cartBadge">0</span></button>
    </div>
    <h3 data-i18n="shop.links">連結</h3>
    <div class="list">
      <a href="/" data-i18n="common.back_home">返回首頁</a>
      <a href="#" id="linkOrderLookup" data-i18n="shop.order_lookup">查詢訂單狀態</a>
      <a href="/deity" data-i18n="shop.deity_intro">神祇介紹</a>
      <a href="/faq" data-i18n="shop.faq">常見問題</a>
    </div>
    <div class="tools-box">
      <h4 data-i18n="shop.tools_title">泰國旅遊 / 寺廟小工具</h4>
      <div class="list">
        <a href="https://unalomecodes.com/food-map" class="tool-link">
          <span class="tool-link-title"><span class="tool-link-dot"></span><span data-i18n="shop.tools_food_map">泰國美食地圖</span></span>
        </a>
        <a href="https://unalomecodes.com/templemap" class="tool-link">
          <span class="tool-link-title"><span class="tool-link-dot"></span><span data-i18n="shop.tools_temple_map">泰國寺廟地圖</span></span>
        </a>
      </div>
      <div class="muted" style="font-size:12px;line-height:1.6;margin:6px 0 10px;" data-i18n="shop.tools_more_soon">敬請期待更多實用小工具。</div>
    </div>
</aside>
    <div class="main">
      <div id="filterBar" style="margin:6px 0 12px 0;">
        <select id="fDeity" style="min-width:150px;">
          <option value="" data-i18n="shop.all_deities">全部神祇</option>
        </select>
        <select id="fSort" style="min-width:150px;">
          <option value="" data-i18n="shop.sort_default">排序：預設</option>
          <option value="sold-desc" data-i18n="shop.sort_sold_desc">已售出（多→少）</option>
          <option value="price-asc" data-i18n="shop.sort_price_asc">價格（低→高）</option>
          <option value="price-desc" data-i18n="shop.sort_price_desc">價格（高→低）</option>
          <option value="newest" data-i18n="shop.sort_newest">最新上架</option>
        </select>
        <input id="fMin" type="number" placeholder="最低價" style="width:130px;" data-i18n-attr="placeholder:shop.min_price">
        <input id="fMax" type="number" placeholder="最高價" style="width:130px;" data-i18n-attr="placeholder:shop.max_price">
      </div>
      <div id="hotSection" class="hot-section" style="display:none;">
        <div class="hot-head">
          <div class="hot-meta">
            <div class="hot-title" data-i18n="shop.hot_title">熱賣中商品</div>
            <div class="hot-sub" data-i18n="shop.hot_sub">人氣排行</div>
          </div>
        </div>
        <div id="hotList" class="grid hot-grid"></div>
      </div>
      <div id="banner" class="empty" style="display:none"></div>
      <div id="skeleton" class="skeleton-grid"><div class="skeleton-card"><div class="skeleton-pic"></div><div class="skeleton-line"></div><div class="skeleton-line w60"></div></div><div class="skeleton-card"><div class="skeleton-pic"></div><div class="skeleton-line"></div><div class="skeleton-line w60"></div></div><div class="skeleton-card"><div class="skeleton-pic"></div><div class="skeleton-line"></div><div class="skeleton-line w60"></div></div><div class="skeleton-card"><div class="skeleton-pic"></div><div class="skeleton-line"></div><div class="skeleton-line w60"></div></div><div class="skeleton-card"><div class="skeleton-pic"></div><div class="skeleton-line"></div><div class="skeleton-line w60"></div></div><div class="skeleton-card"><div class="skeleton-pic"></div><div class="skeleton-line"></div><div class="skeleton-line w60"></div></div></div>
      <div id="list" class="grid"></div>
    </div>
  </div>
  <div class="footer">
    <div class="footer-logos" aria-label="付款方式">
      <span class="logo-item" title="Visa">
        <img src="/img/brand/logo-visa.svg" alt="Visa" width="32" height="32" decoding="async">
      </span>
      <span class="logo-item" title="Mastercard">
        <img src="/img/brand/logo-mastercard.svg" alt="Mastercard" width="32" height="32" decoding="async">
      </span>
      <span class="logo-item" title="JCB">
        <img src="/img/brand/logo-jcb.svg" alt="JCB" width="32" height="32" decoding="async">
      </span>
      <span class="logo-item" title="7-ELEVEN">
        <img src="/img/brand/logo-711.svg" alt="7-ELEVEN" width="32" height="32" decoding="async">
      </span>
      <span class="logo-item" title="LINE Pay" style="display:none;">
        <img src="/img/brand/logo-linepay.svg" alt="LINE Pay" width="32" height="32" decoding="async">
      </span>
      <span class="logo-item logo-item--ecpay" title="綠界 ECPay">
        <img src="/img/brand/logo-ecpay.png" alt="綠界 ECPay" width="32" height="32" decoding="async">
      </span>
    </div>
    <div class="footer-contact">
      <div class="footer-social" aria-label="社群連結">
        <a class="logo-item logo-item--social" href="https://www.instagram.com/unalomecodes" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
          <img src="/img/brand/logo-instagram.png" alt="Instagram" width="32" height="32" decoding="async">
        </a>
        <a class="logo-item logo-item--social" href="https://www.facebook.com/share/1QLyANxx92/?mibextid=wwXIfr" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
          <img src="/img/brand/logo-facebook.svg" alt="Facebook" width="32" height="32" decoding="async">
        </a>
        <a class="logo-item logo-item--social" href="https://line.me/R/ti/p/@427oaemj" target="_blank" rel="noopener noreferrer" aria-label="LINE">
          <img src="/img/brand/logo-line.png" alt="LINE" width="32" height="32" decoding="async">
        </a>
      </div>
      <strong data-i18n="shop.contact_us">聯絡我們</strong>
      <div>bkkaiwei@gmail.com</div>
      <div data-i18n="shop.support_line">客服LINE official @427oaemj</div>
      <div><span>2025-2026©unalomecodes ｜ </span><a href="#" id="privacyLinkShop" class="policy-link" data-i18n="shop.privacy">隱私權政策</a><span> ｜ </span><a href="/faq" class="policy-link" data-i18n="shop.faq">常見問題</a></div>
    </div>
  </div>
</div>

<dialog id="privacyDialogShop" class="policy-dialog">
  <header data-i18n="shop.privacy">隱私權政策</header>
  <div class="body" data-i18n-html="shop.privacy_body_html">
    <p>感謝您在泰國寺廟map @ unalomecodes 選購商品或預約祈福服務。本政策說明我們如何依據一般電商平台的標準，保護並使用您的個人資料。</p>
    <ol>
      <li><strong>資料蒐集項目：</strong>包含下單資訊（姓名、電話、Email、地址或門市）、付款憑證、祈福需求、上傳的照片／影片及您在客服或留言中的回饋。</li>
      <li><strong>Google 登入：</strong>若以 Google 帳號登入，我們僅取得您的姓名、Email、Google 帳號識別碼與頭像，用於身分驗證、維持登入狀態、顯示會員資料與判斷管理員白名單。登入資訊與會話 Cookie 僅儲存在本站及受控系統，不與第三方共享。</li>
      <li><strong>LINE 登入：</strong>若以 LINE 帳號登入，我們僅取得您的 LINE 帳號識別碼、顯示名稱、Email（若授權）與頭像，用於身分驗證、維持登入狀態、顯示會員資料與判斷管理員白名單。登入資訊與會話 Cookie 僅儲存在本站及受控系統，不與第三方共享。</li>
      <li><strong>使用目的：</strong>用於訂單聯繫、付款核對、物流／客服通知、祈福成果回傳、會員優惠與必要的行銷活動（例如寄送出貨或進度通知）。</li>
      <li><strong>保存方式：</strong>交易資料儲存在 Cloudflare KV / R2 與 Google Workspace 等受控系統，僅授權的工作人員可存取；影像檔案採限時連結避免對外曝光。</li>
      <li><strong>第三方分享：</strong>僅在需要出貨、金流或祈福服務時，提供必要資訊給物流、金流或合作師父；不出售、不出租您的個資。</li>
      <li><strong>安全措施：</strong>網站採用 HTTPS 加密、管理端需金鑰驗證，並定期檢視資料存取紀錄，若無後續需求會匿名化或刪除。</li>
      <li><strong>您的權利：</strong>可透過官方 LINE（@427oaemj）或 bkkaiwei@gmail.com 申請查詢、更正、下載或刪除個資，我們會於合理時間內回覆並處理。</li>
    </ol>
    <p>繼續使用本網站即表示同意上述條款。如需更多協助，歡迎聯繫我們，將盡速回覆。</p>
  </div>
  <footer>
    <button type="button" class="btn" id="privacyCloseShop" data-i18n="common.close">關閉</button>
  </footer>
</dialog>

<dialog id="profileDialog" class="policy-dialog">
  <header>基本資料</header>
  <div class="body">
    <label>姓名</label>
    <input id="profileName" type="text">
    <label>Email</label>
    <input id="profileEmail" type="email">
    <label>手機號碼</label>
    <input id="profilePhone" type="tel" placeholder="請輸入手機號碼">
    <p class="muted" style="font-size:12px;margin-top:8px;">儲存後，實體商品與服務商品結帳會自動帶入這三項資料。</p>
    <div id="profileStatus" style="color:#ef4444;font-size:13px;min-height:18px;"></div>
  </div>
  <footer>
    <button type="button" class="btn" id="profileClose">取消</button>
    <button type="button" class="btn primary" id="profileSave">儲存</button>
  </footer>
</dialog>

<dialog id="esimDialog" class="policy-dialog">
  <header>eSIM 商品卡設定</header>
  <div class="body">
    <label>商品名稱</label>
    <input id="esimName" type="text" placeholder="泰國 eSIM 上網卡">
    <label>價格顯示文字</label>
    <input id="esimPriceText" type="text" placeholder="依方案計價">
    <label>徽章（逗號分隔）</label>
    <input id="esimBadges" type="text" placeholder="合作商品">
    <label>導購連結 URL</label>
    <input id="esimUrl" type="url" placeholder="https://...">
    <label>封面圖</label>
    <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
      <button type="button" class="btn" id="esimUploadBtn">上傳封面圖</button>
      <input id="esimImageFile" type="file" accept="image/*" style="display:none">
      <input id="esimImageUrl" type="text" readonly placeholder="上傳後會自動填入網址" style="flex:1;min-width:220px;">
    </div>
    <div style="margin-top:10px;">
      <img id="esimImagePreview" alt="eSIM 封面預覽" style="width:100%;max-width:420px;border-radius:12px;border:1px solid #e5e7eb;display:none">
    </div>
    <div id="esimStatus" style="color:#ef4444;font-size:13px;min-height:18px;margin-top:8px;"></div>
  </div>
  <footer>
    <button type="button" class="btn" id="esimClose">取消</button>
    <button type="button" class="btn primary" id="esimSave">儲存</button>
  </footer>
</dialog>

<dialog id="fortuneDialog" class="fortune-dialog">
  <div class="fortune-shell">
    <div class="fortune-head">
      <div>
        <div class="fortune-title">今日專屬日籤</div>
        <div class="fortune-date" id="fortuneDate">—</div>
      </div>
      <button type="button" class="fortune-close" id="fortuneClose">✕</button>
    </div>
    <div class="fortune-body">
      <div id="fortuneLoading" class="fortune-loading">正在翻牌中…</div>
      <div id="fortuneError" class="fortune-error" style="display:none;"></div>
      <div id="fortuneCard" class="fortune-card" style="display:none;">
        <div class="fortune-stars" id="fortuneStars"></div>
        <div class="fortune-summary" id="fortuneSummary"></div>
        <div class="fortune-explain" id="fortuneExplainShop" style="display:none;">
          <button type="button" class="fortune-explain-toggle" id="fortuneExplainToggleShop" aria-expanded="false">📖 為什麼今天是 — 日？</button>
          <div class="fortune-explain-body" id="fortuneExplainBodyShop" hidden>
            <div class="fortune-explain-title" id="fortuneExplainTitleShop"></div>
            <div class="fortune-explain-desc" id="fortuneExplainDescShop"></div>
            <div class="fortune-explain-how" id="fortuneExplainHowShop"></div>
          </div>
        </div>
        <div class="fortune-section">
          <div class="fortune-label">生活小建議</div>
          <div class="fortune-text" id="fortuneAdvice"></div>
        </div>
        <div class="fortune-yam" id="fortuneYam" data-yam-container></div>
        <div class="fortune-section fortune-task" id="fortuneTaskWrapShop" style="display:none;">
          <div class="fortune-label">今日任務</div>
          <div class="fortune-text" id="fortuneTaskTextShop"></div>
          <div class="fortune-task-streak" id="fortuneTaskStreakShop" style="display:none;"></div>
          <div class="fortune-task-feedback" id="fortuneTaskFeedbackShop" style="display:none;"></div>
          <button type="button" class="fortune-task-toggle" id="fortuneTaskToggleShop" aria-pressed="false">☐ 我完成了</button>
        </div>
        <div class="fortune-section">
          <div class="fortune-label" id="fortuneRitualLabel">守護神想對你說</div>
          <div class="fortune-text" id="fortuneRitual"></div>
        </div>
        <div class="fortune-meta" id="fortuneMeta"></div>
      </div>
    </div>
  </div>
</dialog>

<dialog id="guardianRecommendDialog" class="guardian-recommend-dialog">
  <div class="guardian-recommend-shell">
    <div class="guardian-recommend-head">
      <div>
        <div class="guardian-recommend-title">守護神推薦商品</div>
        <div class="guardian-recommend-sub" id="guardianRecommendName">—</div>
      </div>
      <button type="button" class="guardian-recommend-close" id="guardianRecommendClose">✕</button>
    </div>
    <div class="guardian-recommend-list" id="guardianRecommendList">
      <div class="guardian-recommend-empty">推薦商品載入中…</div>
    </div>
  </div>
</dialog>
<dialog id="fortuneHistoryDialog" class="fortune-history-dialog">
  <div class="fortune-history-card">
    <div class="fortune-history-head">
      <div class="fortune-history-title">近期日籤（近七天）</div>
      <button type="button" class="fortune-history-close" data-guardian-history-close aria-label="關閉">✕</button>
    </div>
    <div class="fortune-history-error" id="fortuneHistoryError" style="display:none;"></div>
    <div class="fortune-history-list" id="fortuneHistoryList"></div>
  </div>
</dialog>

<dialog id="dlg">
  <div class="closeBar">
    <strong id="dlgTitle">商品資訊</strong>
    <button class="xbtn" onclick="dlg.close()">✕</button>
  </div>
  <div class="dlgBody">
    <div>
      <div class="bigBox">
        <img id="dlgBig" class="big" alt="">
      </div>
      <div class="thumbs" id="dlgThumbs"></div>
      <div class="dlgIg" id="dlgInstagram" style="display:none;"></div>
    </div>
    <div>
      <div class="dlgTitleBlock">
        <div id="dlgName" class="dlgName"></div>
        <div class="dlgTags">
          <span id="dlgDeity" class="dlgTag dlgTag--deity" style="display:none;"></span>
          <span id="dlgLimited" class="dlgTag dlgTag--limited" style="display:none;"></span>
          <span id="dlgRemaining" class="dlgTag dlgTag--remaining" style="display:none;"></span>
          <span id="dlgChip" class="dlgTag dlgTag--sold"></span>
        </div>
      </div>
      <div id="dlgDesc" style="font-size:14px;white-space:pre-wrap;line-height:1.6;border:1px solid var(--line);border-radius:10px;padding:10px;max-height:220px;overflow:auto"></div>

      <div class="row" style="margin-top:10px">
        <div class="field">
          <label>規格</label>
          <select id="dlgVariant"></select>
        </div>
        <div class="field">
          <label>庫存</label>
          <div id="dlgStock" class="dlgStockVal" style="display:none;">—</div>
        </div>
        <div class="field">
          <label>數量</label>
          <input id="dlgQty" type="number" value="1" min="1">
        </div>
      </div>

      <div style="margin-top:10px;font-weight:800">
        NT$ <span id="dlgPrice">0</span>
      </div>

      <div class="cta" style="margin-top:10px;flex-wrap:wrap">
        <button class="btn primary" id="btnAddCart">加入購物車</button>
      </div>

      <!-- 顧客評價 / 真實故事 -->
      <div class="reviews">
        <div style="font-weight:800;margin-bottom:6px">顧客評價／真實故事</div>
        <div id="rvList"></div>
        <div style="margin-top:12px; border-top: 1px solid #e5e7eb; padding-top: 12px;">
          <div style="display:grid; gap:12px; margin-bottom:12px;">
            <div style="display:grid; gap:6px;">
              <label for="rvNick" style="font-size:12px;color:#6b7280">您的名字 (或暱稱)</label>
              <input id="rvNick" type="text" placeholder="例：林小姐" style="padding:10px;border:1px solid #e5e7eb;border-radius:10px;">
            </div>
            <div style="display:grid; gap:6px;">
              <label for="rvFile" style="font-size:12px;color:#6b7280">上傳圖片 (選填)</label>
              <input id="rvFile" type="file" accept="image/*" style="padding:10px;border:1px solid #e5e7eb;border-radius:10px;">
            </div>
          </div>
          <textarea id="rvText" placeholder="分享您的真實體驗、感應或故事..."></textarea>
          <div class="cta" style="margin-top:8px">
            <button class="btn primary" id="rvSubmit">送出分享</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</dialog>

  <!-- 信用卡付款 Dialog -->
  <dialog id="dlgCC" style="border:none;border-radius:16px;padding:0;max-width:520px;width:96%;">
    <div style="padding:18px 18px 6px;">
      <div style="font-weight:800;font-size:18px;">信用卡付款</div>
      <div style="color:#6b7280;font-size:14px;margin-top:4px">填寫收件聯絡資訊後，將導向綠界安全頁面完成刷卡。</div>
    </div>
    <form id="ccForm" style="padding:0 18px 16px;display:grid;gap:12px;">
      <div id="ccOrderInfo" style="background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:12px;display:grid;gap:10px;">
        <div style="font-size:14px;color:#6b7280;">確認商品資訊</div>
        <div id="ccOrderItems" style="display:grid;gap:10px;"></div>
      </div>
      <div style="background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:12px;display:flex;justify-content:space-between;align-items:center;">
        <div style="font-size:14px;color:#6b7280;">應付金額</div>
        <div id="ccAmount" style="font-size:18px;font-weight:800;color:#111827;">NT$ 0</div>
      </div>
      <div id="ccShippingNote" style="display:none;font-size:12px;color:#6b7280;line-height:1.6;">
        此金額包含 7-11 店到店運費 NT$ 60。
      </div>
      <div id="ccShipDiscount" style="display:none;font-size:12px;color:#2563eb;line-height:1.6;background:#eff6ff;border:1px solid #bfdbfe;border-radius:10px;padding:10px"></div>
      <div id="ccCouponHint" style="display:none;font-size:12px;color:#16a34a;line-height:1.6;background:#f0fdf4;border:1px solid #bbf7d0;border-radius:10px;padding:10px"></div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">收件人姓名</label>
        <input name="name" id="ccName" type="text" placeholder="請輸入收件人姓名" required>
      </div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">手機號碼</label>
        <input name="phone" id="ccPhone" type="tel" placeholder="例：0969123456" pattern="^(\\+?886[-\\s]?9\\d{8}|09\\d{8}|9\\d{8})$" inputmode="tel" required>
      </div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">電子郵件（收據）</label>
        <input name="email" id="ccEmail" type="email" placeholder="name@example.com" inputmode="email" autocomplete="email">
      </div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">收件 7-11 門市（蠟燭類商品不用填寫此欄位）</label>
        <input name="store" id="ccStore" type="text" placeholder="請先於上一步選擇門市" readonly required>
        <button type="button" id="ccBackStore" class="btn store-edit-btn">修改門市</button>
      </div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">備註（可選）</label>
        <textarea name="note" id="ccNote" placeholder="想補充的資料（如：商品規格、地址、祈福資訊）"></textarea>
      </div>
      <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:4px">
        <button type="button" id="ccCancel" class="btn">取消</button>
        <button type="submit" id="ccSubmit" class="btn primary">前往刷卡</button>
      </div>
      <div style="font-size:12px;color:#6b7280;line-height:1.6">提交後會跳轉至綠界安全刷卡頁面，刷卡成功會自動返回「付款結果」頁。</div>
    </form>
  </dialog>

  <!-- Cart dialog -->
  <dialog id="dlgCart">
    <div class="cartWrap">
      <div class="cartHead">
        <div>購物車</div>
        <button id="cartClose" class="btn link">關閉</button>
      </div>
      <div id="cartList" class="cartList"></div>
      <div class="cartSum">
        <div>小計</div>
        <div id="cartTotal">NT$ 0</div>
      </div>
      <!-- Coupon input widget -->
          <div class="cartCoupon" style="display:grid;gap:8px;margin:8px 0 0">
            <label for="cartCouponInput" style="font-size:12px;color:#6b7280">優惠碼</label>
            <div style="display:flex;gap:8px;align-items:center">
              <input id="cartCouponInput" type="text" inputmode="latin" placeholder="請輸入優惠碼"
                     style="flex:1 1 auto;padding:10px;border:1px solid #e5e7eb;border-radius:10px">
              <button id="cartApply" class="btn" style="flex:0 0 auto">套用</button>
              <button id="cartSelectSaved" class="btn" style="flex:0 0 auto;background:#eef2ff;color:#1d4ed8;">我的優惠券</button>
            </div>
            <div id="cartCouponHint" style="display:none;font-size:12px;color:#6b7280;line-height:1.6"></div>
          </div>

      <!-- Discount row (hidden until a valid coupon is applied) -->
      <div class="cartSum cartDiscount" style="display:none;margin-top:6px">
        <div>折扣</div>
        <div id="cartOff">-NT$ 0</div>
      </div>

      <!-- Shipping row -->
      <div class="cartSum cartShip" style="display:none;margin-top:6px">
        <div>運費</div>
        <div id="cartShipping">+NT$ 0</div>
      </div>

      <!-- Grand total -->
      <div class="cartSum">
        <div style="font-weight:800">應付金額</div>
        <div id="cartGrandTotal" style="font-weight:800">NT$ 0</div>
      </div>
      <div class="cartActions">
        <button id="cartClear" class="btn">清空購物車</button>
        <a id="cartPayCC" class="btn pay-cc" target="_blank" rel="noopener" style="text-decoration:none;">信用卡付款</a>
        <a id="cartGo711" class="btn pay-711" target="_blank" rel="noopener">貨到付款</a>
      </div>
    </div>
  </dialog>

  <!-- 訂單完成提示 Dialog -->
  <dialog id="dlgOrderSuccess" class="order-success-dialog" style="border:none;border-radius:20px;padding:0;max-width:540px;width:95%;">
    <div class="order-success-card">
      <button type="button" class="os-close" id="successClose" aria-label="關閉">×</button>
      <div class="os-icon">✨</div>
      <div class="os-title" id="successTitle">訂單建立成功</div>
      <div class="os-desc" id="successDesc">感謝您的訂購，核對無誤後將儘速安排出貨。</div>
      <div class="os-order-line">
        <div>
          <div class="os-label">訂單編號</div>
          <div class="os-order-id" id="successOrderId">—</div>
        </div>
        <button type="button" class="os-copy" id="successCopyId">複製</button>
      </div>
      <div class="os-items" id="successItems">
        <div class="os-item muted">商品資訊載入中…</div>
      </div>
      <div class="os-meta" id="successMeta" style="display:none"></div>
      <div class="os-amount">
        <div>
          <div class="os-label">應付金額</div>
          <div class="os-amount-value" id="successAmount">NT$ 0</div>
        </div>
        <div class="os-chip" id="successBadge">訂單資訊</div>
      </div>
      <div class="os-note" id="successHint">
        已寄出 Email 通知，日後可在左側「查詢訂單狀態」輸入資料查看處理進度。
      </div>
      <div class="os-actions">
        <button type="button" class="btn ghost" id="successLookup">查看訂單狀態</button>
        <div style="flex:1"></div>
        <button type="button" class="btn" id="successDone">知道了</button>
        <button type="button" class="btn primary" id="successContinue" style="display:none">前往下一步</button>
      </div>
    </div>
  </dialog>
  <link rel="stylesheet" href="/css/shop.inline-2.css">
<div id="toast" style="position:fixed;right:16px;bottom:16px;z-index:1000;max-width:92vw"></div>


<script src="/js/shop.inline-2.js"></script>

<script src="/js/shop.inline-3.js"></script>

<script src="/js/shop.inline-4.js"></script>

  <!-- 轉帳匯款 Dialog -->
  <dialog id="dlgBank" style="border:none;border-radius:16px;padding:0;max-width:680px;width:96%;">
  <div style="padding:18px 18px 10px;">
    <div style="font-weight:800;font-size:18px;">收件人資料</div>
    <div style="color:#6b7280;font-size:14px;margin-top:4px">請填寫收件人資料後送出訂單。</div>
  </div>
  <div style="padding:0 18px 16px;display:grid;gap:10px;">

    <form id="bankForm" enctype="multipart/form-data" style="display:grid;gap:10px">
      <div id="bfCouponBackHint" style="font-size:12px;color:#6b7280;line-height:1.6;margin-top:4px">
        若欲使用優惠券，請返回上一頁輸入優惠券並套用。
      </div>
      <div id="memberPerkHint" style="display:none;font-size:12px;color:#16a34a;line-height:1.6;"></div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">收件人姓名</label>
        <input id="bfName" name="name" required type="text" placeholder="請輸入收件人姓名">
      </div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">手機號碼</label>
        <input id="bfContact" name="phone" type="tel" placeholder="例：0969123456" pattern="^09\d{8}$" inputmode="tel" title="請輸入有效手機號碼" required>
      </div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">電子郵件</label>
        <input id="bfEmail" name="email" type="email" placeholder="name@example.com" inputmode="email" autocomplete="email">
      </div>
      <div class="bank-field" style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">收件 7-11 門市（蠟燭類商品不用填寫此欄位）</label>
        <input id="bfStore" name="store" type="text" placeholder="尚未選擇門市" readonly>
        <div style="margin-top:4px;font-size:12px;color:#555">若需修改門市，請返回上一步</div>
        <button type="button" id="bfBackToStoreBtn" class="btn store-edit-btn" style="margin-top:4px;">修改門市</button>
      </div>
      <div class="bank-field" style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">應付金額（NT$）</label>
        <input id="bfAmount" name="amount" type="number" min="1" required>
        <div id="bfAmtHint" style="font-size:12px;color:#6b7280">系統自動帶入金額，無需修改</div>
      </div>
      <div class="bank-field" style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">備註（可選）</label>
        <textarea id="bfNote" name="note" placeholder="想補充的資料（如：訂購人姓名、地址、商品規格）"></textarea>
      </div>
      <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:4px">
        <button type="button" id="bfCancel" class="btn">取消</button>
        <button type="submit" id="bfSubmit" class="btn primary">送出訂單</button>
      </div>
    </form>
    <div id="bfHint" style="font-size:12px;color:#6b7280;line-height:1.6">
      送出後請等待5至10秒才會跳出送出成功，請勿重複點「送出訂單」按鈕。另外送出後可至左邊連結查詢訂單狀態，確認訂單是否成功建立。
    </div>
  </div>
</dialog>


<script src="/js/shop.inline-5.js"></script>
<script src="/js/shop.inline-6.js"></script>

<script src="/js/shop.inline-7.js"></script>



<script src="/js/shop.inline-8.js"></script>

<script src="/js/shop.inline-9.js"></script>


<script src="/js/shop.inline-10.js"></script>

<script src="/js/shop.inline-11.js"></script>


<script src="/js/shop.inline-12.js"></script>
<script src="/js/shop.inline-13.js"></script>
<script src="/js/shop.inline-14.js"></script>


  <!-- 統一訂單確認 Dialog（購物車 & 直接結帳共用） -->
  <dialog id="dlgOrderConfirm" style="border:none;border-radius:16px;padding:0;max-width:960px;width:96%;max-height:90vh;overflow:auto;">
    <div style="padding:18px 18px 10px;">
      <div style="font-weight:800;font-size:18px;">確認訂單內容</div>
      <div style="color:#6b7280;font-size:14px;margin-top:4px">
        請先確認商品、數量與優惠折扣是否正確，再按下一步填寫付款 / 收件資訊。
      </div>
    </div>

    <div id="orderItemsBox" style="padding:0 18px 10px;"></div>

    <div id="orderCouponArea" style="padding:0 18px 10px;display:grid;grid-template-columns:minmax(0,1fr) auto;gap:8px;align-items:center;">
      <div style="display:grid;gap:6px">
        <label for="orderCouponInput" style="font-size:12px;color:#6b7280;">優惠碼</label>
        <input id="orderCouponInput" type="text" placeholder="請輸入優惠碼"
               style="padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:14px;">
        <div id="orderCouponHint" style="font-size:12px;color:#6b7280;line-height:1.6;"></div>
      </div>
      <div style="align-self:flex-end">
        <button type="button" id="orderCouponApply"
                style="padding:10px 16px;border-radius:10px;border:1px solid #16a34a;background:#16a34a;color:#fff;font-weight:600;cursor:pointer;">
          套用
        </button>
      </div>
    </div>

    <div id="orderTotalsBox" style="padding:0 18px 14px;border-top:1px solid #f3f4f6;margin-top:4px;">
      <div style="display:flex;justify-content:flex-end;font-size:14px;margin-top:6px;">
        <div style="min-width:220px;display:grid;row-gap:4px;">
          <div style="display:flex;justify-content:space-between;">
            <span>小計</span>
            <span id="orderSubtotalText">NT$ 0</span>
          </div>
          <div style="display:flex;justify-content:space-between;">
            <span>折扣</span>
            <span id="orderDiscountText">-NT$ 0</span>
          </div>
          <div id="orderShippingRow" style="display:none;justify-content:space-between;">
            <span>運費</span>
            <span id="orderShippingText">+NT$ 0</span>
          </div>
          <div style="display:flex;justify-content:space-between;font-weight:800;font-size:15px;margin-top:4px;">
            <span>應付金額</span>
            <span id="orderGrandText">NT$ 0</span>
          </div>
        </div>
      </div>
    </div>

    <div style="padding:0 18px 14px;">
      <div id="orderCouponList" style="font-size:13px;line-height:1.6;"></div>
    </div>

    <div style="padding:0 18px 16px;display:flex;justify-content:flex-end;gap:10px;">
      <button type="button" id="orderCancelBtn"
              style="padding:8px 14px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;color:#374151;cursor:pointer;">
        返回
      </button>
      <button type="button" id="orderNextBtn"
              style="padding:8px 16px;border-radius:10px;border:none;background:#16a34a;color:#fff;font-weight:700;cursor:pointer;">
        下一步：填寫資料
      </button>
    </div>
  </dialog>

  <!-- 選擇門市 Dialog（插在訂單確認與匯款資料之間） -->
  <dialog id="dlgStore" style="border:none;border-radius:16px;padding:0;max-width:680px;width:96%;max-height:90vh;overflow:auto;">
    <div style="padding:18px 18px 10px;">
      <div style="font-weight:800;font-size:18px;">選擇取貨門市</div>
    <div style="color:#6b7280;font-size:14px;margin-top:4px;line-height:1.6;">
      請先選擇 7-11 取貨門市，再進入貨到付款或信用卡資料頁面。
    </div>
    </div>

    <form id="storeForm" style="padding:0 18px 16px;display:grid;gap:10px;">
      <div style="display:grid;gap:6px;">
        <label for="bfStorePreview" style="font-size:12px;color:#6b7280;">取貨門市</label>
        <input id="bfStorePreview" type="text" readonly
               placeholder="尚未選擇門市"
               style="padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;font-size:14px;background:#f9fafb;color:#4b5563;">
        <div style="font-size:12px;color:#6b7280;">
          請點選下方「查詢 7-11 門市」按鈕，於地圖中選擇門市後，這裡與付款資料頁面會自動帶入相同門市
        </div>
      </div>

      <div style="display:flex;justify-content:flex-start;gap:10px;margin-top:4px;">
        <!-- 使用原本的 7-11 查詢門市連結邏輯：這個按鈕只負責觸發 popup，由既有腳本接收回填 -->
        <button type="button" id="storeOpenCvsBtn"
                style="padding:8px 12px;border-radius:999px;border:1px solid #e5e7eb;background:#ffffff;color:#374151;font-size:13px;cursor:pointer;">
          查詢 7-11 門市
        </button>
      </div>

      <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:12px;">
        <button type="button" id="storeBackBtn"
                style="padding:8px 14px;border-radius:10px;border:1px solid #e5e7eb;background:#ffffff;color:#374151;font-size:13px;cursor:pointer;">
          返回上一頁
        </button>
        <button type="button" id="storeNextBtn"
                style="padding:8px 16px;border-radius:10px;border:none;background:#16a34a;color:#ffffff;font-weight:700;font-size:13px;cursor:pointer;">
          下一步：填寫付款資料
        </button>
      </div>
    </form>
  </dialog>
<!-- Remove the element whose inner text contains 「建議先在 7-11 官網或地圖查好門市，再將門市名稱與地址貼到這裡」 -->

<script src="/js/shop.inline-15.js"></script>
  <!-- 訂單狀態查詢 Dialog -->
  <dialog id="dlgLookup" style="border:none;border-radius:16px;padding:0;max-width:560px;width:92%;">
    <div style="padding:18px 18px 10px;">
      <div style="font-weight:800;font-size:18px;">查詢訂單狀態</div>
      <div style="color:#6b7280;font-size:14px;margin-top:4px">
        查詢需輸入 <b>手機號碼</b>，並搭配 <b>匯款末五碼</b> 或 <b>訂單編號末五碼（英數）</b>（信用卡）。
      </div>
    </div>
    <form id="lookupForm" style="padding:0 18px 16px;display:grid;gap:10px">
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">手機號碼（必填）</label>
        <input id="qPhone" name="phone" type="tel" inputmode="tel"
               pattern="^(?:\+?886[-\s]?9\d{8}|09\d{8}|\d{9,13})$" required
               placeholder="例：0969123456 或 +886 969 123 456"
               title="請輸入 09 開頭或 +8869 開頭的手機號碼（允許空白與破折號）"
               autocomplete="tel-national"
               style="padding:10px;border:1px solid #e5e7eb;border-radius:10px">
      </div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">匯款末五碼</label>
        <input id="qLast5" name="last5" type="text" inputmode="numeric" pattern="\d{5}" placeholder="12345"
               title="請輸入匯款末五碼（5 位數字）"
               style="padding:10px;border:1px solid #e5e7eb;border-radius:10px">
      </div>
      <div style="display:grid;gap:6px">
        <label style="font-size:12px;color:#6b7280">訂單編號末五碼（英數，信用卡）</label>
        <input id="qOrder" name="order" type="text" inputmode="text" pattern="[A-Za-z0-9]{5,}"
               placeholder="輸入訂單編號末 5 位（英數）" title="請輸入訂單編號末 5 位（英數）"
               autocomplete="one-time-code"
               style="padding:10px;border:1px solid #e5e7eb;border-radius:10px">
      </div>
      <div class="cta" style="display:flex;gap:10px;justify-content:flex-end;margin-top:6px">
        <button type="button" id="lookupCancel" class="btn">關閉</button>
        <button type="submit" id="lookupSubmit" class="btn primary">查詢</button>
      </div>
      <div id="lookupHint" style="font-size:12px;color:#6b7280;line-height:1.6">
        每筆查詢皆需輸入手機號碼，並搭配匯款末五碼或訂單編號末五碼（英數，信用卡）。
      </div>
    </form>

    <div id="lookupResultHint" style="padding:0 18px 8px;color:#6b7280;font-size:12px;line-height:1.6"></div>

    <div id="lookupResult" style="display:none;padding:0 18px 18px">
      <div style="font-weight:800;margin:4px 0 8px">查詢結果</div>
      <div id="lookupList" style="display:flex;flex-direction:column;gap:10px"></div>
    </div>
  </dialog>

<script src="/js/shop.inline-16.js"></script>
<script src="/js/shop.inline-17.js"></script>

<script src="/js/shop.inline-18.js"></script>
<script src="/js/shop.inline-19.js"></script>

<script src="/js/shop.inline-20.js"></script>
<script src="/js/uc-i18n-core.js"></script>
<script src="/js/uc-i18n-shop.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/cart.js"></script>
<script src="/js/track.js"></script>
<script src="/js/ui.js"></script>
<script src="/js/shop.inline-21.js"></script>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script src="/js/auth.js?v=20240930"></script>
<script src="/js/wishlist.js"></script>
<script src="/js/main.js"></script>
<script src="/js/shop.inline-22.js"></script>
<script src="/js/checkout.js"></script>
<!-- Fallback binder for信用卡按鈕：若主程式未綁定，確保至少能呼叫 openCreditDialog 或提示重整 -->
<script src="/js/shop.inline-23.js"></script>
<script src="/js/shop.inline-24.js"></script>
<script src="/js/shop.inline-25.js"></script>
<script src="/js/shop.inline-26.js"></script>
<link rel="stylesheet" href="/css/shop.inline-3.css">
<script src="/js/guardian-menu.js"></script>
<script src="/js/fortune-viewer.js"></script>
<script src="/js/yam-ui.js"></script>
<script src="/js/shop.inline-27.js"></script>
</body>
</html>
