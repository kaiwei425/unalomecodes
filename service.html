<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>服務型商品｜unalomecodes</title>
  <link rel="stylesheet" href="/css/style.css">
  <style>
    body{
      background:linear-gradient(180deg,#f8fafc,#e2e8f0);
      color:#0f172a;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    }
    .service-page .top{
      background:var(--card,#fff);
    }
    .service-actions{display:flex;gap:10px;align-items:center;}
    .service-actions .btn{border-radius:12px;padding:8px 14px;}
    .service-actions .btn.primary{background:linear-gradient(120deg,#34d399,#60a5fa);color:#fff;border:none;}
    .service-layout{margin-top:20px;}
    .service-main .svc-hero{
      background:linear-gradient(135deg,#eef2ff,#dbeafe);
      border-radius:20px;
      padding:28px;
      border:1px solid rgba(99,102,241,.25);
      box-shadow:0 20px 60px rgba(15,23,42,.08);
    }
    .service-main .svc-hero h1{margin:0;font-size:30px;}
    .service-main .svc-hero p{margin:12px 0 0;color:#4c1d95;line-height:1.6;}
    .svc-head{display:flex;justify-content:space-between;align-items:center;gap:12px;margin:20px 0 16px;}
    .svc-head .title{font-size:18px;font-weight:700;}
    .svc-head .sub{color:#6b7280;font-size:14px;}
    .svc-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;}
    .svc-card{background:var(--card,#fff);border:1px solid var(--line,#e5e7eb);border-radius:18px;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 16px 40px rgba(15,23,42,.12);min-height:360px;position:relative;transition:transform .18s ease, box-shadow .18s ease;}
    .svc-card:hover{transform:translateY(-6px);box-shadow:0 26px 60px rgba(15,23,42,.15);}
    .svc-card .svc-pic{position:relative;background:#0b1022;overflow:hidden;}
    .svc-card .svc-pic::before{content:"";display:block;padding-top:70%;}
    .svc-card .svc-pic img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:contrast(1.08);}
    .svc-card .body{padding:16px;display:flex;flex-direction:column;gap:8px;flex:1;}
    .svc-card .meta{display:flex;gap:6px;flex-wrap:wrap;font-size:12px;color:#6b7280;}
    .svc-card .meta span{padding:2px 8px;border-radius:999px;background:rgba(15,118,110,.08);border:1px solid rgba(15,118,110,.2);color:#0f766e;}
    .svc-card button{margin-top:auto;border:none;border-radius:12px;padding:12px;font-weight:700;color:#fff;background:linear-gradient(120deg,#34d399,#60a5fa);cursor:pointer;box-shadow:0 8px 20px rgba(37,99,235,.2);}
    #svcListEmpty{grid-column:1/-1;padding:40px 24px;text-align:center;color:#6b7280;border:1px dashed rgba(148,163,184,.6);border-radius:20px;background:#fff;}
    .svc-dialog{border:none;border-radius:24px;padding:0;background:#0b1022;color:#e5e7eb;width:92%;max-width:720px;box-shadow:0 30px 90px rgba(0,0,0,.6);}
    .svc-dialog header{padding:26px 28px 18px;border-bottom:1px solid rgba(255,255,255,.06);}
    .svc-dialog section{padding:24px 28px;display:grid;gap:18px;}
    .svc-dialog .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px;}
    .svc-dialog .gallery img{width:100%;height:120px;object-fit:cover;border-radius:12px;border:1px solid rgba(255,255,255,.08);}
    .svc-dialog footer{padding:20px 28px;border-top:1px solid rgba(255,255,255,.06);display:flex;justify-content:flex-end;gap:12px;}
    .svc-form{display:grid;gap:14px;padding:0;margin:0;}
    .svc-form label{display:grid;gap:6px;font-size:13px;color:#cbd5f5;}
    .svc-form input,.svc-form textarea{padding:10px;border-radius:12px;border:1px solid #1f2937;background:#0f172a;color:#e5e7eb;}
    .svc-form textarea{min-height:120px;resize:vertical;}
    dialog::backdrop{background:rgba(15,23,42,.75);}
  </style>
</head>
<body>
  <div class="wrap service-page">
    <div class="top service-top">
      <div class="brand">
        <img src="https://i.ibb.co/7mtppQQ/logo.jpg" alt="">
        <div>
          <div class="t1">泰國寺廟map ©️ unalomecodes</div>
          <div class="t2">服務型商品專區（蠟燭祈福／遠距加持等）</div>
        </div>
      </div>
      <div class="service-actions">
        <a href="/shop.html" class="btn">返回實體商品</a>
        <button id="svcLookupBtn" class="btn primary">查祈福進度</button>
      </div>
    </div>

    <div class="store service-layout">
      <aside id="sideDeities">
        <div class="side-cart">
          <button id="cartFab" type="button" title="查看購物車" disabled style="opacity:.4;cursor:not-allowed;"><span class="lbl">實體購物車</span><span id="cartBadge">0</span></button>
        </div>
        <h3>服務流程說明</h3>
        <div class="list">
          <span class="muted" style="display:block;line-height:1.6;">本專區的服務與實體商品完全分開，請透過此頁面提交資料並等待通知。</span>
        </div>
        <div class="tools-box">
          <h4>常用連結</h4>
          <div class="list">
            <a href="/shop.html">返回商品館</a>
            <a href="#" id="linkServiceLookup">祈福進度查詢</a>
            <a href="https://line.me/R/ti/p/@427oaemj" target="_blank" rel="noopener">官方 LINE 客服</a>
          </div>
        </div>
      </aside>

      <div class="main service-main">
        <div class="svc-hero">
          <h1>服務型商品專區</h1>
          <p>蠟燭祈福、遠距加持、客製儀式等服務全部在這裡完成。每項服務擁有獨立流程、購物車與祈福進度查詢，確保體驗清楚不混淆。</p>
        </div>
        <section>
          <div class="svc-head">
            <div>
              <div class="title">可選服務</div>
              <div class="sub">未來的蠟燭祈福／儀式服務都會透過此處上架</div>
            </div>
            <button id="svcLookupBtn2" class="btn primary ghost">查祈福進度</button>
          </div>
          <div id="svcList" class="svc-grid">
            <div id="svcListEmpty">載入中…</div>
          </div>
        </section>
      </div>
    </div>

    <div class="footer">
      <strong>聯絡我們</strong><br>
      bkkaiwei@gmail.com<br>
      客服LINE official @427oaemj<br>
      2025©unalomecodes
    </div>
  </div>

  <dialog id="svcLookup" style="border:none;border-radius:18px;padding:0;width:92%;max-width:520px;">
    <div style="padding:20px;border-bottom:1px solid rgba(148,163,184,.2);">
      <h2 style="margin:0;font-size:20px;">祈福進度查詢</h2>
      <p style="margin:8px 0 0;color:#6b7280;font-size:13px;">此區將接上獨立的服務訂單查詢 API。</p>
    </div>
    <form id="svcLookupForm" style="padding:18px;display:grid;gap:12px;">
      <label style="display:grid;gap:6px;font-size:13px;color:#cbd5f5;">
        手機號碼
        <input type="tel" name="phone" required placeholder="請輸入下單時的電話" style="padding:10px;border-radius:10px;border:1px solid #334155;background:#0f172a;color:#e5e7eb;">
      </label>
      <label style="display:grid;gap:6px;font-size:13px;color:#cbd5f5;">
        訂單編號末五碼
        <input type="text" name="orderDigits" required inputmode="numeric" pattern="\\d{5}" placeholder="12345" style="padding:10px;border-radius:10px;border:1px solid #334155;background:#0f172a;color:#e5e7eb;">
      </label>
      <div style="display:flex;gap:10px;justify-content:flex-end;">
        <button type="button" class="btn" id="svcLookupClose">關閉</button>
        <button type="submit" class="btn primary">查詢</button>
      </div>
      <p id="svcLookupHint" style="margin:0;font-size:12px;color:#94a3b8;">查詢功能將在後續步驟接上服務訂單 API。</p>
    </form>
    <div id="svcLookupResult" style="padding:0 18px 18px;display:none;">
      <div style="font-weight:700;margin-bottom:6px;">查詢結果</div>
      <div id="svcLookupCards" style="display:flex;flex-direction:column;gap:10px;"></div>
    </div>
  </dialog>

  <dialog id="svcDetail" class="svc-dialog">
    <header>
      <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:14px;">
        <div>
          <div id="svcDetailTitle" style="font-size:24px;font-weight:800;">服務名稱</div>
          <div id="svcDetailPrice" style="margin-top:6px;color:#a5b4fc;font-weight:600;">NT$ 0</div>
        </div>
        <button id="svcDetailClose" class="btn" style="border-radius:999px;">關閉</button>
      </div>
    </header>
    <section>
      <div id="svcDetailDesc" style="line-height:1.8;color:#e2e8f0;">服務說明</div>
      <div>
        <div style="font-weight:700;margin-bottom:8px;">包含內容</div>
        <ul id="svcDetailIncludes" style="margin:0;padding-left:20px;color:#cbd5f5;line-height:1.7;">
          <li>蠟燭祈請</li>
        </ul>
      </div>
      <div>
        <div style="font-weight:700;margin-bottom:8px;">示意圖</div>
        <div id="svcDetailGallery" class="gallery"></div>
      </div>
    </section>
    <footer>
      <button id="svcDetailAction" class="btn primary" style="font-weight:700;">加入祈福清單</button>
    </footer>
  </dialog>

  <dialog id="svcCart" class="svc-dialog">
    <form id="svcCartForm" class="svc-form">
      <header>
        <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:14px;">
          <div>
            <div style="font-size:22px;font-weight:800;">填寫祈福資料</div>
            <div id="svcCartSubtitle" style="margin-top:6px;color:#94a3b8;font-size:13px;">請確認聯絡方式與願望內容</div>
          </div>
          <button type="button" id="svcCartClose" class="btn">關閉</button>
        </div>
      </header>
      <section style="padding:20px 28px;display:grid;gap:16px;">
        <div style="padding:14px;border-radius:16px;background:rgba(255,255,255,.04);display:flex;justify-content:space-between;align-items:center;gap:12px;">
          <div>
            <div id="svcCartServiceName" style="font-weight:700;font-size:16px;">服務名稱</div>
            <div id="svcCartDuration" style="font-size:13px;color:#94a3b8;margin-top:4px;">時間依老師安排</div>
          </div>
          <div id="svcCartServicePrice" style="font-weight:700;font-size:18px;">NT$ 0</div>
        </div>
        <input type="hidden" id="svcCartServiceId">
        <label>
          聯絡人姓名（必填）
          <input type="text" name="name" required placeholder="請輸入姓名">
        </label>
        <label>
          手機號碼（必填）
          <input type="tel" name="phone" required placeholder="例：0969123456">
        </label>
        <label>
          Email
          <input type="email" name="email" placeholder="若需 Email 通知可填寫">
        </label>
        <label>
          LINE ID
          <input type="text" name="line" placeholder="若需 LINE 通知可填寫">
        </label>
        <label>
          指定祈福日期（可留白）
          <input type="date" name="requestDate">
        </label>
        <label>
          願望／備註
          <textarea name="note" placeholder="可輸入願望、祈福對象、特殊需求…"></textarea>
        </label>
      </section>
      <footer>
        <button type="submit" id="svcCartSubmit" class="btn primary" style="font-weight:700;">送出祈福訂單</button>
      </footer>
    </form>
  </dialog>

  <dialog id="svcSuccess" class="svc-dialog">
    <header>
      <div style="display:flex;justify-content:space-between;gap:12px;align-items:center;">
        <div>
          <div style="font-size:22px;font-weight:800;">祈福訂單已送出</div>
          <div style="color:#a5b4fc;margin-top:6px;font-size:14px;">請妥善保存訂單編號以便查詢進度</div>
        </div>
        <button id="svcSuccessClose" class="btn">關閉</button>
      </div>
    </header>
    <section>
      <div style="padding:16px;border-radius:16px;background:rgba(255,255,255,.04);">
        <div style="color:#94a3b8;font-size:13px;">訂單編號</div>
        <div id="svcSuccessId" style="font-size:20px;font-weight:800;margin-top:4px;">SV000000</div>
      </div>
      <div id="svcSuccessHint" style="font-size:14px;color:#e2e8f0;line-height:1.8;">
        我們會在指定時間完成祈福並透過 Email/LINE 通知，亦可使用左側「查祈福進度」功能查看最新狀態。
      </div>
    </section>
    <footer>
      <button id="svcSuccessLookup" class="btn primary">立即查詢進度</button>
    </footer>
  </dialog>

  <script src="/js/service-main.js"></script>
</body>
</html>
